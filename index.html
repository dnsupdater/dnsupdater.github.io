<p align="center">
  <img src="https://github.com/dnsupdater/dnsupdater/raw/main/doc/dns_updater.png">
</p>
<h1 id="dns-updater">DNS Updater</h1>
<p>DNS Updater provides &quot;present&quot; and &quot;cleanup&quot; functions that <a href="https://go-acme.github.io/lego"><strong>LEGO</strong></a> expects from the external program provider.</p>
<p>Repository: <a href="https://github.com/dnsupdater/dnsupdater">https://github.com/dnsupdater/dnsupdater</a></p>
<p>LEGO: Letâ€™s Encrypt client and ACME library written in Go.
Please refer to LEGO docs at <a href="https://go-acme.github.io/lego">https://go-acme.github.io/lego</a></p>
<h3 id="dns-updater-usage-">DNS Updater usage:</h3>
<pre><code>
# for help
dnsu help

# for cPanel provider
dnsu cpanel --url <span class="hljs-variable">&lt;cPanel URL&gt;</span> --user <span class="hljs-variable">&lt;cPanel User&gt;</span> --token <span class="hljs-variable">&lt;cPanel Token&gt;</span> info <span class="hljs-variable">&lt;domain name&gt;</span> <span class="hljs-keyword">for</span> A record&gt;
dnsu cpanel --url <span class="hljs-variable">&lt;cPanel URL&gt;</span> --user <span class="hljs-variable">&lt;cPanel User&gt;</span> --token <span class="hljs-variable">&lt;cPanel Token&gt;</span> present <span class="hljs-variable">&lt;domain name&gt;</span> <span class="hljs-keyword">for</span> TXT record&gt; <span class="hljs-variable">&lt;auth-key&gt;</span>'
dnsu cpanel --url <span class="hljs-variable">&lt;cPanel URL&gt;</span> --user <span class="hljs-variable">&lt;cPanel User&gt;</span> --token <span class="hljs-variable">&lt;cPanel Token&gt;</span> cleanup <span class="hljs-variable">&lt;domain name&gt;</span> <span class="hljs-keyword">for</span> TXT record&gt; <span class="hljs-variable">&lt;auth-key&gt;</span>'

Support Environment Variables:
cPanel URL: DNSU_CPANEL-URL 
cPanel User: DNSU_CPANEL-USER  
cPanel Token: DNSU_CPANEL-TOKEN
</code></pre>

<h3 id="example-">Example:</h3>
<pre><code>
# for verify cPanel access</span>
dnsu cpanel --url "https://cpanel-hostname:2083" --user cpaneluser --token "RMYKKBIT5TQ1ITFU58VZBQB5TDEYQZN4" info '_acme-challenge.my.example.org.'

</code></pre>
<h3 id="example-update-dns-sh-for-lego-">Example update-dns.sh for LEGO:</h3>
<pre><code><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-built_in">export</span> DNSU_CPANEL-URL=<span class="hljs-string">"https://cpanel-hostname:2083"</span>
<span class="hljs-built_in">export</span> DNSU_CPANEL-USER=cpaneluser
<span class="hljs-built_in">export</span> DNSU_CPANEL-TOKEN=<span class="hljs-string">"RMYKKBIT5TQ1ITFU58VZBQB5TDEYQZN4"</span>
dnsu cpanel <span class="hljs-string">"<span class="hljs-variable">$@</span>"</span>
</code></pre><h3 id="create-cpanel-manage-api-token-">Create cPanel Manage API Token:</h3>
<h1 id="-cpanel-doc-cpanel1-png-"><img src="https://github.com/dnsupdater/dnsupdater/raw/main/doc/cpanel1.png" alt="cPanel"></h1>
<h3 id="todo-">TODO:</h3>
<ul>
<li><a href="https://go-acme.github.io/lego/dns/httpreq/"><strong>LEGO</strong></a> HTTP request provider.</li>
</ul>
